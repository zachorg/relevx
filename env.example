# =============================================================================
# CORE REQUIRED CONFIGURATION
# =============================================================================

# OpenAI API Configuration
# Required for: Query generation, relevancy analysis, report compilation
# Get your API key from: https://platform.openai.com/api-keys
# Pricing: https://openai.com/pricing
OPENAI_API_KEY=sk-your-openai-api-key-here

# Brave Search API Configuration
# Required for: Web search functionality
# Get your API key from: https://brave.com/search/api/
# Free tier: 2,000 queries/month
# Paid tiers available for higher volume
BRAVE_SEARCH_API_KEY=your-brave-search-api-key-here

# Resend API Key (required for email sending)
# Get from: https://resend.com/
RESEND_API_KEY=re_123456789

# Resend From Email Address
# Format: "Display Name <email@domain.com>" or just "email@domain.com"
# Must be from a verified domain in your Resend account
RESEND_FROM_EMAIL=Relevx Research <research@relevx.ai>

# =============================================================================
# FIREBASE CONFIGURATION
# =============================================================================

# Firebase Web App Configuration
# Get these values from Firebase Console > Project Settings > General
# Required for: Authentication and Firestore database
FIREBASE_API_KEY=your-firebase-api-key
FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_STORAGE_BUCKET=your-project.appspot.com
FIREBASE_MESSAGING_SENDER_ID=your-messaging-sender-id
FIREBASE_APP_ID=your-app-id

# --- Firebase Admin SDK Authentication ---
# Get from: Firebase Console > Project Settings > Service Accounts > Generate New Private Key
# Copy the values from the downloaded JSON file:
FIREBASE_ADMIN_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
# Options: development, production, test
NODE_ENV=development

# Logging
# Options: error, warn, info, debug
LOG_LEVEL=info

# Application Port (if running as standalone server)
PORT=3000

# Test email recipient (for email sending tests)
TEST_EMAIL_RECIPIENT=example@email.com

# =============================================================================
# SCHEDULER CONFIGURATION
# =============================================================================

# Enable/disable the scheduler (default: true)
SCHEDULER_ENABLED=true

# Timezone for scheduler (IANA timezone identifier)
# This is for logging purposes; actual project execution respects per-project timezones
SCHEDULER_TIMEZONE=UTC

# Run scheduler job once on startup (default: true)
# Set to false if you only want cron-scheduled runs
RUN_ON_STARTUP=true

# Maximum concurrent research jobs to run at once (default: 3)
# Adjust based on your server resources and API rate limits
MAX_CONCURRENT_RESEARCH_JOBS=3

# Research job timeout in milliseconds (default: 5 minutes)
RESEARCH_JOB_TIMEOUT_MS=300000

# Pre-run check window in minutes (default: 15)
# How far ahead to check for projects that need research execution
# Projects with nextRunAt within this window will have research executed
SCHEDULER_CHECK_WINDOW_MINUTES=15

# Admin error notification email (placeholder for future implementation)
# Email address to receive notifications about critical system failures
ADMIN_ERROR_EMAIL=admin@example.com

# =============================================================================
# RESEARCH ENGINE CONFIGURATION
# =============================================================================

# Default Research Settings (can be overridden per project)
DEFAULT_RELEVANCY_THRESHOLD=60
DEFAULT_MIN_RESULTS=5
DEFAULT_MAX_RESULTS=20
DEFAULT_MAX_ITERATIONS=3
DEFAULT_CONCURRENT_EXTRACTIONS=3

# Content Extraction Settings
EXTRACTION_TIMEOUT_MS=10000
MIN_SNIPPET_LENGTH=200
MAX_SNIPPET_LENGTH=500

# Rate Limiting
BRAVE_SEARCH_RATE_LIMIT_PER_SECOND=1
OPENAI_RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# SECURITY & CORS
# =============================================================================

# Allowed Origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:19006

# JWT Secret (for API authentication, if applicable)
JWT_SECRET=your-super-secret-jwt-key-here-change-in-production

# API Rate Limiting (requests per IP per minute)
API_RATE_LIMIT=100

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Debug Mode
DEBUG=false

# Verbose Logging
VERBOSE=false

# Skip AI calls for testing (uses mock responses)
MOCK_AI_RESPONSES=false

# Skip Search API calls for testing
MOCK_SEARCH_RESPONSES=false

# Test Mode (uses reduced quotas and faster timeouts)
TEST_MODE=false

# Preserve test data
PRESERVE_TEST_DATA=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable specific features
FEATURE_EMAIL_DELIVERY=false
FEATURE_SLACK_DELIVERY=false
FEATURE_SMS_DELIVERY=false
FEATURE_WEBHOOKS=false
FEATURE_ANALYTICS=false
FEATURE_SEARCH_CACHING=false
FEATURE_QUERY_OPTIMIZATION=true
